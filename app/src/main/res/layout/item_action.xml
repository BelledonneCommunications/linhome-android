<layout xmlns:android="http://schemas.android.com/apk/res/android">

    <data>
        <import type="android.view.View"/>
        <import type="android.text.InputType"/>
        <import type="android.text.TextUtils"/>
        <variable name="actionmodel" type="org.lindoor.ui.devices.create.ActionViewModel" />
        <variable name="validators" type="org.lindoor.ui.validators.ValidatorFactory.Companion" />
    </data>

<RelativeLayout
    android:id="@+id/list_item"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="40dp"
    android:gravity="center_vertical">

    <org.lindoor.ui.widgets.LSpinner
        android:id="@+id/type"
        android:layout_width="230dp"
        android:layout_height="wrap_content"
        android:layout_alignParentStart="true"
        items="@{actionmodel.owningViewModel.availableActionTypes}"
        liveIndex="@{actionmodel.type}"
        titletext='@{actionmodel.owningViewModel.getText("action") + " "+actionmodel.displayIndex}' />

    <org.lindoor.ui.widgets.LTextInput
        android:id="@+id/code"
        android:layout_width="54dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="7dp"
        android:layout_toEndOf="@+id/type"
        title='@{"action_code"}'
        android:inputType="@{InputType.TYPE_CLASS_PHONE}"
        liveString="@{actionmodel.code.first}"
        liveValidity="@{actionmodel.code.second}"
        validator="@{validators.actionCode}"
      />

    <ImageView
        android:id="@+id/trash"
        android:layout_width="20dp"
        android:layout_height="20dp"
        android:layout_toEndOf="@+id/code"
        android:layout_centerVertical="true"
        android:layout_marginBottom="10dp"
        android:layout_marginStart="10dp"
        foreground_selection_effect='@{"primary_color"}'
        src='@{"icons/delete"}'
        android:onClick='@{()->actionmodel.removeAction()}'
        android:enabled="@{!TextUtils.isEmpty(actionmodel.code.first) || actionmodel.type!= -1}"
        >
    </ImageView>

</RelativeLayout>
</layout>